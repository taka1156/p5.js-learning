var o=Object.defineProperty;var c=(t,e,s)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var i=(t,e,s)=>(c(t,typeof e!="symbol"?e+"":e,s),s);import{p as a}from"./p5w.f6535dba.js";import"./vendor.e7d72309.js";const n=class{constructor(e){i(this,"deviceStatus");i(this,"btn");i(this,"deviceVersionCheck",()=>DeviceOrientationEvent&&typeof DeviceOrientationEvent.requestPermission=="function");i(this,"requestAccess",()=>{let e=!1;typeof DeviceOrientationEvent!==void 0&&typeof DeviceOrientationEvent.requestPermission=="function"&&DeviceOrientationEvent.requestPermission().then(s=>{s==="granted"&&(e=!0)}).catch(s=>console.log(s)),this.setPermission(e)});i(this,"setPermission",(e,s=this.deviceVersionCheck())=>{this.deviceStatus={isIos13:s,permission:e}});i(this,"judgeDeviceStatus",()=>{const{isIos13:e,permission:s}=this.deviceStatus;return e&&!s});i(this,"createBtn",e=>{const s=e.createButton("click");return s.style("font-size","20px"),s.center(),s.mousePressed(this.requestAccess),s});i(this,"deviceMoved",()=>{this.btn.remove(),this.setPermission(!0)});this.deviceStatus={isIos13:this.deviceVersionCheck(),permission:!1},this.btn=this.createBtn(e),e.deviceMoved=()=>this.deviceMoved()}};let r=n;i(r,"_instance"),i(r,"getInstance",e=>(n._instance||(n._instance=new n(e)),n._instance));const d=t=>{const e=r.getInstance(t);t.setup=()=>{t.createCanvas(t.windowWidth,t.windowHeight,t.WEBGL)},t.draw=()=>{e.judgeDeviceStatus()||(t.background(200),t.rotateX(t.radians(t.rotationX)),t.rotateY(t.radians(t.rotationY)),t.rotateZ(t.radians(t.rotationZ)),t.box(100,100,100))}};a(d);
