<!DOCTYPE html><html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="../css/layout.css">
    <title>球体を回す</title>
</head>
<body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.9.0/p5.js"></script>

<script>
function setup() {
  createCanvas(windowWidth, windowHeight, WEBGL);
  noFill();
}

let i=0,rndStroke1=140,rndStroke2=255;
function draw() {
  background(200);
  rotateY(PI / 6);

  var rad = millis() / 1000;
  var ct = cos(rad);
  var st = sin(rad);

  i++;

  if(i % 35 === 0){
    rndStroke1 =  rnd();
    rndStroke2 =  rnd();
  }

  applyMatrix(  ct, 0.0,  st,  0.0,
               0.0, 1.0, 0.0,  0.0,
               -st, 0.0,  ct,  0.0,
               0.0, 0.0, 0.0,  1.0);

  stroke(rndStroke1);
  sphere(140);
  
  applyMatrix(  ct, 0.0,  st,  0.0,
               0.0, 1.0, 0.0,  0.0,
               -st, 0.0,  ct,  0.0,
               0.0, 0.0, 0.0,  1.0);
  stroke(rndStroke2);
  sphere(200);
}

function rnd() {
  return Math.floor(random() * 255);
}

</script>
</body>
</html>